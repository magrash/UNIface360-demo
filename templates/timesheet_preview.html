<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timesheet • {{ name }} • {{ meta.month }}/{{ meta.year }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <style>
        body { background: #0f172a; color: #e2e8f0; padding: 16px; }
        .container-nonav { max-width: 1200px; margin: 0 auto; }
        .print-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .print-only { display: none; }
        @media print {
            @page { size: A4; margin: 0; }
            * { -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            html, body { background: #0f172a !important; color: #e2e8f0 !important; }
            .print-bar, .btn, .navbar { display: none !important; }
            .glass-card { box-shadow: none; border: 1px solid rgba(255,255,255,0.2); background: #111827 !important; }
            .container-nonav { max-width: 100%; padding: 10mm; }
            .table thead th { background: #0f172a !important; color: #e2e8f0 !important; }
            .table tbody td { background: transparent !important; color: #e2e8f0 !important; }
        }
    </style>
</head>
<body class="dashboard page-animate">
    <div class="container-nonav">
        <div class="print-bar">
            <div class="section-title">Time Sheet Report - {{ name }} - {{ meta.month }}/{{ meta.year }}</div>
            <div class="d-flex gap-2">
                <a class="btn btn-outline" href="{{ url_for('export_timesheet', name=name) }}?year={{ meta.year }}&month={{ meta.month }}&format=csv">CSV</a>
                <a class="btn btn-gradient" href="{{ url_for('export_timesheet', name=name) }}?year={{ meta.year }}&month={{ meta.month }}&format=pdf">PDF</a>
                <button class="btn btn-soft" onclick="window.print()">Print</button>
            </div>
        </div>

        <div class="glass-card p-3 mb-3">
            <div class="p-3" style="background:#2a5ee8; border-radius:10px;">
                <div class="row text-white">
                    <div class="col-md-6">
                        <div><b>Name:</b> {{ name }}</div>
                        <div><b>Department:</b> {{ meta.department }}</div>
                        <div><b>Employee No:</b> {{ meta.employee_no }}</div>
                        <div><b>Designation:</b> {{ meta.designation }}</div>
                        <div><b>Month:</b> {{ meta.month }}/{{ meta.year }}</div>
                    </div>
                    <div class="col-md-6">
                        <div><b>Contractor:</b> UniFace360</div>
                        <div><b>Contract No:</b> UT-{{ meta.employee_no }}</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="glass-card p-3 mb-3">
            <div class="row">
                <div class="col-md-3">R: Regular working day</div>
                <div class="col-md-3">L: Late</div>
                <div class="col-md-3">A: Absent</div>
                <div class="col-md-3">O: Off Duty</div>
            </div>
        </div>

        <div class="glass-card p-3 mb-3">
            <div class="table-responsive">
                <table class="table table-darkish table-compact align-middle mb-0">
                    <thead><tr><th>Date</th><th>First In</th><th>Last Out</th><th>Code</th></tr></thead>
                    <tbody>
                        {% for row in rows %}
                        {% set code = 'A' if row.first_in == '-' else ('L' if row.first_in[11:16] > '08:00' else 'R') %}
                        <tr>
                            <td>{{ row.date }}</td>
                            <td>{{ row.first_in }}</td>
                            <td>{{ row.last_out }}</td>
                            <td>{{ code }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>

        <div class="glass-card p-3">
            <div class="row text-center">
                <div class="col-md-4"><div class="section-title">Total Work Hours</div><div>0.0</div></div>
                <div class="col-md-4"><div class="section-title">Overtime Hours</div><div>0.0</div></div>
                <div class="col-md-4"><div class="section-title">Travel Hours</div><div>0.0</div></div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


